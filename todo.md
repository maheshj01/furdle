- [X] SettingsService and GameService should be separate
- [X] GameService should only talk to the server or local storage
- [X] SettingsService should only talk to local storage and game settings
- [X] SettingsController should only talk to SettingsService


### Loading a new game

- When the GameService is initialized it should load the game from local storage
- if there is no game in local storage it should load a new game from the server
- The GameService should have a method to load a new game from the server
- If a game is available in local storage
        check if the game is finished
        if the game is finished check if new game is available on the server
            if new game is available load new game from server
        else if the game is not finished load the game from local storage
     else
        load new game from server
- The game saves the GameState to local storage
- Puzzle and GameState class should be separate and do only one thing
- GameState stores the current state of the game including the current puzzle and the keyboard state
- Every move should be saved to the GameState


### TODO

- [ ] Update: Difficulty is broken since we are directly updating the state of the puzzle if its a new Game. We should reinitialize the puzzle when we update the difficulty for a new game.
- [ ] Stats should be updated and saved to local storage when the game is finished
- [ ] The game should be able to load the stats from local storage
- [ ] Provide an option to reset the stats with a confirmation dialog
- [ ]


### Transferring user stats to a new Device (No sign in)

- Each Device has a unique ID (Device Id) stored to the local Storage
- The old Device will have a option to generate a Unique number associated with the device Id.
- When a old Device generates a number it will be held in the server for 24 hours
- The new Device will have a option to enter the number generated by the old Device along with the Device Id
- The new Device will send a request to the server with the Device Id and the number
- The server will check if the number is valid and if it is valid it will send the stats associated with the Device Id to the new Device.
- The new Device will save the stats to local storage
- The old Device will delete the number from the server and the stats from local storage.
- Each Device can only generate one number at a time.
- The number will be valid for 24 hours.
- The number will be deleted from the server after 24 hours.
- The number will be replaced from the server if the user generates a new number.


https://github.com/Uuttssaavv/flutter-clean-architecture-riverpod/blob/master/lib/shared/theme/app_theme.dart